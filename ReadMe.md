# ğŸƒ Poker-Mate: ì‹¤ì‹œê°„ í™€ë¤ ì „ëµ ì½”ì¹­ & ì»´íŒ¨ë‹ˆì–¸ AI ë°±ì—”ë“œ

![Java](https://img.shields.io/badge/Java-17-007396?style=flat-square&logo=java&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring_Boot-3.2-6DB33F?style=flat-square&logo=springboot&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-Cache-DC382D?style=flat-square&logo=redis&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-8.0-4479A1?style=flat-square&logo=mysql&logoColor=white)
![OpenAI](https://img.shields.io/badge/OpenAI-GPT_4o-412991?style=flat-square&logo=openai&logoColor=white)

> **"ë‹¨ìˆœí•œ ì±—ë´‡ì´ ì•„ë‹Œ, ì‹¤ì‹œê°„ ê²Œì„ ìƒí™©ì„ ì´í•´í•˜ëŠ” í¬ì»¤ íŒŒíŠ¸ë„ˆ"**
>
> **Popow.ai**ì™€ ê°™ì€ AI ì—ì´ì „íŠ¸ í”Œë«í¼ì—ì„œ ë™ì‘í•  ìˆ˜ ìˆëŠ” **ê²Œì„ ë„ë©”ì¸ íŠ¹í™” AI ë°±ì—”ë“œ** í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.  
> ëŒ€ê·œëª¨ íŠ¸ë˜í”½ í™˜ê²½ì„ ê°€ì •í•˜ì—¬ **Redisë¥¼ í™œìš©í•œ ëŒ€í™” ë§¥ë½ ìºì‹±**ê³¼ **SSE(Server-Sent Events) ê¸°ë°˜ì˜ ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“– í”„ë¡œì íŠ¸ ê°œìš” (Project Overview)

ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ìì˜ í¬ì»¤ ê²Œì„ í”Œë ˆì´ ìŠ¤íƒ€ì¼ì„ ë¶„ì„í•˜ê³ , ì‹¤ì‹œê°„ìœ¼ë¡œ ì „ëµì  ì¡°ì–¸ì´ë‚˜ ì‹¬ë¦¬ì  ì§€ì§€ë¥¼ ì œê³µí•˜ëŠ” **AI ì—ì´ì „íŠ¸ ì„œë¹„ìŠ¤ì˜ ë°±ì—”ë“œ ì„œë²„**ì…ë‹ˆë‹¤.

### ğŸ¯ ê¸°íš ì˜ë„
* **ê²Œì„ ë„ë©”ì¸ ê²°í•©:** ì¼ë°˜ì ì¸ LLM ì±—ë´‡ì„ ë„˜ì–´, 'í™€ë¤(Hold'em)'ì´ë¼ëŠ” ëª…í™•í•œ ë£°ê³¼ ë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ” ë„ë©”ì¸ì—ì„œì˜ AI í™œìš© ê°€ëŠ¥ì„±ì„ íƒêµ¬í–ˆìŠµë‹ˆë‹¤.
* **ì‹¤ì‹œê°„ì„± ë³´ì¥:** ê²Œì„ ì§„í–‰ ì†ë„ì— ë§ì¶° ë¹ ë¥¸ ì‘ë‹µì„ ì£¼ê¸° ìœ„í•´ ë¹„ë™ê¸° ì²˜ë¦¬ì™€ ìºì‹± ì „ëµì— ì§‘ì¤‘í–ˆìŠµë‹ˆë‹¤.
* **ë©€í‹° í˜ë¥´ì†Œë‚˜:** 'ëƒ‰ì² í•œ ì „ëµê°€'ì™€ 'ë”°ëœ»í•œ ìœ„ë¡œì' ë“± ë‹¤ì–‘í•œ ì„±ê²©ì˜ ì—ì´ì „íŠ¸ë¥¼ ë™ì ìœ¼ë¡œ ë¡œë”©í•˜ëŠ” êµ¬ì¡°ë¥¼ ì„¤ê³„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ (Tech Stack)

| Category | Tech | Selection Reason (Technical Decision) |
| :--- | :--- | :--- |
| **Language** | Java 17 | ë ˆì½”ë“œ(Record), í…ìŠ¤íŠ¸ ë¸”ë¡ ë“± ìµœì‹  ë¬¸ë²• í™œìš© ë° ì•ˆì •ì ì¸ ì„œë²„ êµ¬ì¶• |
| **Framework** | Spring Boot 3.2 | ìƒì‚°ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±, ë°©ëŒ€í•œ ìƒíƒœê³„ í™œìš© |
| **Database** | MySQL 8.0 | ì‚¬ìš©ì ì •ë³´ ë° ì¥ê¸° ê¸°ì–µ(Long-term Memory) ë°ì´í„°ì˜ ë¬´ê²°ì„± ë³´ì¥ |
| **Cache** | **Redis** | **í•µì‹¬:** ëŒ€í™” íˆìŠ¤í† ë¦¬(Context)ì˜ ê³ ì† I/O ì²˜ë¦¬ ë° TTLì„ í™œìš©í•œ ì„¸ì…˜ ê´€ë¦¬ |
| **AI Integration** | Spring AI (or LangChain4j) | OpenAI APIì™€ì˜ íš¨ìœ¨ì ì¸ í†µì‹  ë° í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ê´€ë¦¬ |
| **Communication** | SSE (Server-Sent Events) | WebSocketë³´ë‹¤ ê°€ë³ê³  ë‹¨ë°©í–¥ ë°ì´í„° ì „ì†¡ì— ì í•©í•œ ìŠ¤íŠ¸ë¦¬ë° ë°©ì‹ ì±„íƒ |
| **Infra** | Docker & Docker Compose | ë°ì´í„°ë² ì´ìŠ¤ ë° ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì¼ê´€ëœ ë°°í¬ í™˜ê²½ êµ¬ì„± |

---

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥ ë° ì•„í‚¤í…ì²˜ (Key Features & Architecture)

### 1. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ë‹µë³€ (SSE)
* LLMì˜ ê¸´ ìƒì„± ì‹œê°„ì„ ì‚¬ìš©ìê°€ ê¸°ë‹¤ë¦¬ì§€ ì•Šë„ë¡, í† í° ë‹¨ìœ„ë¡œ ì‘ë‹µì„ ì‹¤ì‹œê°„ ì „ì†¡í•©ë‹ˆë‹¤.
* `Flux` ë˜ëŠ” `ResponseBodyEmitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¼ì„ ì²˜ë¦¬í–ˆìŠµë‹ˆë‹¤.

### 2. í•˜ì´ë¸Œë¦¬ë“œ ë©”ëª¨ë¦¬ ì „ëµ (Hybrid Memory Strategy)
* **Short-term Memory (Redis):** ìµœê·¼ ëŒ€í™” 10í„´(Turn)ì„ `List` ìë£Œêµ¬ì¡°ë¡œ Redisì— ì €ì¥í•˜ì—¬ LLM API í˜¸ì¶œ ì‹œ Context ë¹„ìš©ê³¼ ë ˆì´í„´ì‹œë¥¼ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤.
* **Long-term Memory (MySQL):** ì„¸ì…˜ ì¢…ë£Œ ì‹œ, AIê°€ ëŒ€í™” ë‚´ìš©ì„ ìš”ì•½í•˜ì—¬ ì‚¬ìš©ìì˜ 'í”Œë ˆì´ ì„±í–¥ íƒœê·¸'ë¥¼ RDBMSì— ì˜êµ¬ ì €ì¥í•©ë‹ˆë‹¤.

### 3. ë™ì  í˜ë¥´ì†Œë‚˜ ì£¼ì… (Dynamic System Prompting)
* DBì— ì €ì¥ëœ ì—ì´ì „íŠ¸ ì„¤ì •(Tone, Style)ì„ ì¡°íšŒí•˜ì—¬, ëŸ°íƒ€ì„ì— System Promptë¥¼ ë™ì ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.
* ì´ë¥¼ í†µí•´ ì½”ë“œ ìˆ˜ì • ì—†ì´ ìƒˆë¡œìš´ ì„±ê²©ì˜ AI ìºë¦­í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™•ì¥ì„±ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ”¥ ê¸°ìˆ ì  ë„ì „ê³¼ í•´ê²° (Troubleshooting)

### Q. ê²Œì„ ë„ì¤‘ AI ì‘ë‹µ ì†ë„ê°€ ëŠë¦¬ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
> **Problem:** ì™¸ë¶€ LLM API(GPT-4)ì˜ ì‘ë‹µ ì†ë„ëŠ” ê°€ë³€ì ì´ë©°, ê²Œì„ íë¦„ì„ ëŠì„ ìˆ˜ ìˆìŒ.  
> **Solution:**
> 1. **Redis Caching:** ìì£¼ ë¬»ëŠ” ì§ˆë¬¸(ë£° ì„¤ëª… ë“±)ì€ ìºì‹œ íˆíŠ¸ë¥¼ í†µí•´ LLM í˜¸ì¶œ ì—†ì´ 5ms ì´ë‚´ ì‘ë‹µ.
> 2. **Async Processing:** ì‚¬ìš©ì ì…ë ¥ ë¶„ì„ê³¼ ë‹µë³€ ìƒì„±ì„ ë³„ë„ ìŠ¤ë ˆë“œ í’€ì—ì„œ ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬í•˜ì—¬ ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ë°©ì§€.

### Q. í• ë£¨ì‹œë„¤ì´ì…˜(ê±°ì§“ ì •ë³´)ìœ¼ë¡œ ì˜ëª»ëœ ë£°ì„ ì•Œë ¤ì£¼ë©´?
> **Problem:** LLMì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í¬ì»¤ ì¡±ë³´ë¥¼ ë§Œë“¤ì–´ë‚¼ ìœ„í—˜.  
> **Solution:** **Rule-based Context Injection.**
> ì‚¬ìš©ìê°€ ë£° ê´€ë ¨ ì§ˆë¬¸ì„ í•˜ë©´, ì‚¬ì „ì— ì •ì˜ëœ 'í¬ì»¤ í™•ë¥ í‘œ(JSON)' ë°ì´í„°ë¥¼ í”„ë¡¬í”„íŠ¸ì— System Contextë¡œ ê°•ì œ ì£¼ì…í•˜ì—¬ ë‹µë³€ì˜ ì •í™•ë„ë¥¼ ë†’ì˜€ìŠµë‹ˆë‹¤.

---

## ğŸ’¾ ERD ì„¤ê³„ (Database Schema)

* **Users:** ì‚¬ìš©ì ê³„ì • ë° ê¸°ë³¸ ì •ë³´
* **Personas:** AI ì—ì´ì „íŠ¸ì˜ ì„±ê²© ë° ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì„¤ì • (CMSí˜• êµ¬ì¡°)
* **Chat_Sessions:** ëŒ€í™”ë°© ë©”íƒ€ ë°ì´í„°
* **Chat_Logs:** ëŒ€í™” ë‚´ìš© ì›ë³¸ (ë¶„ì„ ë° ê°ì‚¬ìš©)
* **Game_Stats:** AIê°€ ë¶„ì„í•œ ì‚¬ìš©ìì˜ ìŠ¹ë¥  ë° í”Œë ˆì´ ìŠ¤íƒ€ì¼ ë°ì´í„°

---

## ğŸƒâ€â™‚ï¸ ì‹¤í–‰ ë°©ë²• (Getting Started)

### Prerequisites
* Java 17+
* Docker & Docker Compose

### Installation
1. **Clone the repo**
   ```bash
   git clone [https://github.com/YOUR_GITHUB_ID/poker-mate-backend.git](https://github.com/YOUR_GITHUB_ID/poker-mate-backend.git)

2. **Setup Environment Variablest**
   ```bash
   ./mvnw clean install

3. **Run the application**
   ```bash
   ./mvnw spring-boot:run

4. **Access the application**
   ```bash
   http://localhost:8080
